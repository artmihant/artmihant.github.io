import{x as _,i as S,g as L,o as u,c as m,j as p,y as b,a as e,C as a,F as k,z as D,u as q,t as f,n as F,l as K,m as Q}from"./index-576821a0.js";const T={class:"h-screen justify-center items-center flex flex-col flex-1 m-auto"},A={class:"relative"},G={class:"h-screen justify-center flex flex-col flex-1"},V=e("div",{class:"h-screen justify-center items-center flex flex-col flex-1 m-auto"},[e("div",{class:"w-[550px]"},[e("p",null,"Сейчас на экране появится 12 квадратов"),e("p",null,"Цвет одного отличается от цвета остальных"),e("p",null,"Нужно как можно быстрее определить, в какой части экрана (правой или левой) от центра расположен этот квадрат, нажав клавишу Q (слева) или P (справа)"),e("p",null,"[Нажимте любую клавишу для старта]")])],-1),$=[V],H={class:"h-screen justify-center flex flex-col flex-0"},J=e("h1",null," Итоговый счет ",-1),O={class:"border border-neutral-700"},R=e("tr",null,[e("th",{class:"pr-3 border"}),e("th",{class:"pr-3 border text-center"},"направление"),e("th",{class:"pr-3 border text-center"},"позиция"),e("th",{class:"pr-3 border text-center"},"реакция")],-1),U={class:"pr-3 border"},W={class:"pr-3 border text-center"},X={class:"pr-3 border text-center"},Y={class:"pr-3 border text-center"},Z=e("div",null,null,-1),ee={class:"mt-3 text-center font-bold"},oe={__name:"GilbertPage",setup(te){const M=_(70),t=_(10),P=S("uid"),x=12,n={A:"#00ab81",B:"#00aa95",C:"#00aaaa",D:"#0095aa",N:"#b2b2b2",B:"#000000"},N=["#ff0000","#ff4400","#ff5f00","#6bff00","#a1ff00","#d7ff00","#0051ff","#0081ff","#00bcff"],i=_("init");function j(l){return Math.floor(Math.random()*l)}const h=L([]);for(let l=0;l<x;l++)h.push({color:n.B});const E=[[0,1],[2,1],[3,4],[5,4],[6,7],[8,7]],y=_(!1);let g=5,c=0,z=6;const d=L([]);let C=()=>{let l=j(2),o=j(6);o+=6*l;let r=E[Math.floor(c/g)][0],s=E[Math.floor(c/g)][1];return{target_color:r,ground_color:s,position:o,direction:l}},w=()=>{for(let l=0;l<x;l++)h[l].color=n.N;y.value=!1,i.value="play",document.removeEventListener("keyup",w),I()},B=()=>{for(document.removeEventListener("keyup",B),c=0;d.length>0;)d.pop();w()},I=()=>{c<g*z?setTimeout(()=>{y.value=!0,setTimeout(()=>{i.value="play";let l=Date.now(),o=C();d.push(o);for(let s=0;s<x;s++)h[s].color=N[s==o.position?o.target_color:o.ground_color];let r=s=>{let v;if(s.code=="KeyP")v=0;else if(s.code=="KeyQ")v=1;else return;document.removeEventListener("keydown",r),o&&(o.reaction_time=Date.now()-l,c+=1,o.correctly=v==o.direction),document.addEventListener("keyup",w)};document.addEventListener("keydown",r)},1e3)},250):(F(K(Q,"users",P),{gilbert:d}),i.value="score")};return document.addEventListener("keyup",B),(l,o)=>(u(),m(k,null,[p(e("div",{class:"h-screen flex w-full justify-center",style:a({"background-color":n.N})},[e("div",T,[e("div",A,[p(e("div",{class:"text-center absolute",style:a([{color:"#222","line-height":"1"},{top:"-"+t.value/2+"mm",left:"-"+t.value/2+"mm"}])},[e("table",null,[e("tr",null,[e("td",{style:a({"border-bottom":"1px solid "+n.B,"border-right":"1px solid "+n.B})},[e("div",{style:a({width:t.value/2+"mm",height:t.value/2+"mm"})},null,4)],4),e("td",{style:a({"border-bottom":"1px solid "+n.B,"border-left":"1px solid "+n.B})},[e("div",{style:a({width:t.value/2+"mm",height:t.value/2+"mm"})},null,4)],4)]),e("tr",null,[e("td",{style:a({"border-top":"1px solid "+n.B,"border-right":"1px solid "+n.B})},[e("div",{style:a({width:t.value/2+"mm",height:t.value/2+"mm"})},null,4)],4),e("td",{style:a({"border-top":"1px solid "+n.B,"border-left":"1px solid "+n.B})},[e("div",{style:a({width:t.value/2+"mm",height:t.value/2+"mm"})},null,4)],4)])])],4),[[b,y.value]]),(u(!0),m(k,null,D(h,(r,s)=>(u(),m("div",{class:"absolute",style:a({width:t.value+"mm",height:t.value+"mm",top:-t.value/2+-M.value*Math.cos(Math.PI/6*(s+.5))+"mm",left:-t.value/2+M.value*Math.sin(Math.PI/6*(s+.5))+"mm","background-color":r.color})},null,4))),256))])])],4),[[b,i.value=="play"]]),p(e("div",G,$,512),[[b,i.value=="init"]]),p(e("div",H,[J,e("table",O,[R,(u(!0),m(k,null,D(d,(r,s)=>(u(),m("tr",null,[e("td",U,f(s+1)+" "+f(r.correctly?"✔️":"❌"),1),e("td",W,f(r.position),1),e("td",X,f(r.direction?">":"<"),1),e("td",Y,f(r.reaction_time),1)]))),256))]),Z,e("div",ee,[e("button",{onClick:o[0]||(o[0]=r=>q(B)()),class:"rounded-lg border p-2 border-neutral-700 bg-white text-neutral-900"},"Попробовать ещё раз")])],512),[[b,i.value=="score"]])],64))}};export{oe as default};
