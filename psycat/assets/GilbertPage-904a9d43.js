import{B as ee,k as p,l as H,r as te,o as i,c as _,p as m,v as y,a as e,n as P,F as x,h as j,y as B,C as T,d as J,t as s,f as S,w as re}from"./index-31c250ee.js";import{C as f}from"./color-9d40ee1b.js";import{_ as ne,a as oe,b as le,c as ae,d as se,e as ce,f as ie,g as ue,h as ge,i as fe,j as de}from"./SunFigure.vue_vue_type_script_setup_true_lang-75e6650a.js";const _e={class:"h-screen justify-center flex flex-col flex-1"},pe=e("p",null,"Сейчас на экране появится 12 фигур.",-1),he=e("p",null,"Цвет одной отличается от цвета остальных.",-1),ve=e("p",null,[S("Нужно как можно быстрее определить, в какой части экрана (правой или левой). от центра расположен эта фигура, "),e("br"),S(" нажав клавишу "),e("b",null,"Q"),S(" (слева) или "),e("b",null,"P"),S(" (справа)")],-1),me=e("p",null," При выполнении задания необходимо смотреть на крестик по центру экрана",-1),ye=e("div",{class:"h-screen justify-center flex flex-col flex-0"},[e("h1",null,"Приготовьтесь..."),e("p",null,"(нажмите любую клавишу)")],-1),be=[ye],xe={class:"h-screen justify-center items-center flex flex-col flex-1 m-auto"},Se={class:"relative"},we=e("div",{class:"h-screen justify-center flex flex-col flex-0"},[e("h1",null,"Прекрасно!"),e("p",null,"Закройте на несколько секунд глаза, дайте им отдохнуть."),e("p",null,"когда отдохнете, нажмите любую клавишу для продолжения")],-1),ke=[we],Me={class:"h-screen flex w-full"},$e={class:"h-screen flex flex-col"},qe={class:"flex gap-10"},je={class:"border border-neutral-700"},Ee={class:"pr-3 border relative"},Ce=e("th",{class:"pr-3 border text-center"},"направление",-1),De=e("th",{class:"pr-3 border text-center"},"реакция",-1),Le={class:"pr-3 border"},Pe={class:"pr-3 border text-center"},Be={class:"pr-3 border text-center"},Te={class:"mt-48 text-center font-bold"},ze=e("button",{class:"rounded-lg border p-2 border-neutral-700 bg-white text-neutral-900"}," Далее ",-1),Fe=ee({__name:"GilbertPage",setup(Ge){const E={apple:oe,banana:le,blob:ae,circule:se,heart:ce,hex:ie,leaf:ue,lemon:ge,square:fe,sun:de},z=p(70),O=p(10),w=p(1.3),U=1e3,G=333,h={neutral:"#b2b2b2",cross:"#222222"},k=new f("color(display-p3 0.9244 0.2464 0.4044)"),I=new f("color(display-p3 0.9336 0.268 0.2039)"),N=new f("color(display-p3 0.8913 0.2542 0.571)"),M=new f("color(display-p3 0.9362 0.7218 0.0842)"),V=new f("color(display-p3 0.8169 0.7855 0.1726)"),F=new f("color(display-p3 0.9805 0.6286 0.1624)"),$=new f("color(display-p3 0.0772 0.7146 0.7601)"),K=new f("color(display-p3 0.2086 0.6784 0.8873)"),Q=new f("color(display-p3 0.2336 0.727 0.5989)"),C=[{ground:"#929292",target:"#000000",figure:"square",principle:a,length:3},{ground:k.toString(),target:I.toString(),figure:"heart",principle:a,length:3},{ground:k.toString(),target:N.toString(),figure:"heart",principle:a,length:3},{ground:k.toString(),target:I.toString(),figure:"square",principle:a,length:3},{ground:k.toString(),target:N.toString(),figure:"square",principle:a,length:3},{ground:M.toString(),target:V.toString(),figure:"sun",principle:a,length:3},{ground:M.toString(),target:F.toString(),figure:"sun",principle:a,length:3},{ground:M.toString(),target:V.toString(),figure:"square",principle:a,length:3},{ground:M.toString(),target:F.toString(),figure:"square",principle:a,length:3},{ground:$.toString(),target:K.toString(),figure:"blob",principle:a,length:3},{ground:$.toString(),target:Q.toString(),figure:"blob",principle:a,length:3},{ground:$.toString(),target:K.toString(),figure:"square",principle:a,length:3},{ground:$.toString(),target:Q.toString(),figure:"square",principle:a,length:3}],v=H([]);for(let r=0;r<12;r++)v.push({color:h.neutral,figure:"square"});const R=[[5,9,7,1,11,8,4,3,6,10,2,0],[8,3,11,1,0,8,9,6,10,2,5,4,7],[5,8,1,0,11,3,6,4,9,2,7,10],[5,7,9,6,10,11,4,2,0,1,3,8],[6,7,0,3,5,10,1,4,11,2,9,8],[10,6,4,9,5,8,1,3,2,7,0,11],[0,10,8,3,9,5,7,1,6,11,4,2],[6,10,7,5,3,4,8,11,0,1,2,9],[5,10,1,6,9,11,0,7,3,4,2,8],[5,9,7,1,11,8,4,3,6,10,2,0],[8,3,11,1,0,8,9,6,10,2,5,4,7],[5,8,1,0,11,3,6,4,9,2,7,10],[5,7,9,6,10,11,4,2,0,1,3,8],[0,8,4,11,5,6,7,2,3,1,9,10],[4,8,9,2,11,0,7,5,1,10,3,6],[4,11,10,2,1,6,0,3,9,8,7,5],[10,6,4,9,5,8,1,3,2,7,0,11],[0,10,8,3,9,5,7,1,6,11,4,2],[6,10,7,5,3,4,8,11,0,1,2,9],[5,10,1,6,9,11,0,7,3,4,2,8]];function W(r){return Math.floor(Math.random()*r)}R.forEach(r=>r.unshift(W(12)));function X(r){return r<6?"r":"l"}function a(r,l){return R[r][l]}const D=p(!1),u=p("init"),d=H([]),g=p(0),q=p(0);function Y(){u.value="prepare",g.value<C.length&&A()}function A(){d.push({tests:[],figure:"",ground:"",target:"",stat:{average_full:0,average_left:0,average_right:0}}),q.value=0,document.addEventListener("keyup",L)}function Z(){g.value+=1,u.value="rest",g.value<C.length?A():(d.forEach(r=>{let l=0,c=0,t=0,o=0;r.tests.forEach((n,b)=>{b&&n.correctly&&n.reaction_time<U&&(n.direction=="r"&&(o+=1,c+=n.reaction_time),n.direction=="l"&&(t+=1,l+=n.reaction_time))}),r.stat.average_full=Math.floor((l+c)/(t+o)),r.stat.average_left=Math.floor(l/t),r.stat.average_right=Math.floor(c/o)}),u.value="score")}function L(){document.removeEventListener("keyup",L);const r=C[g.value];for(let l=0;l<12;l++)v[l].color=h.neutral,v[l].figure="square";if(D.value=!1,q.value<r.length){u.value="play";const l=r.principle(g.value,q.value),c={position:l,direction:X(l),answer:"",correctly:!1,reaction_time:0};d[g.value].tests.push(c),d[g.value].figure=r.figure,d[g.value].target=r.target,d[g.value].ground=r.ground,setTimeout(()=>{D.value=!0,setTimeout(()=>{let t=Date.now();for(let n=0;n<12;n++)v[n].color=c.position==n?r.target:r.ground,v[n].figure=r.figure;function o(n){const b=n.code=="KeyP"?"r":n.code=="KeyQ"?"l":null;b&&(document.removeEventListener("keydown",o),c.answer=b,c.correctly=b==c.direction,c.reaction_time=Date.now()-t,q.value+=1,document.addEventListener("keyup",L))}document.addEventListener("keydown",o)},1e3)},250)}else Z()}return(r,l)=>{const c=te("router-link");return i(),_(x,null,[m(e("div",_e,[e("div",{class:"h-screen justify-center items-center flex flex-col flex-1 m-auto"},[e("div",{class:"w-[550px]"},[pe,he,ve,me,e("div",{class:"text-center"},[e("button",{onClick:Y,class:"rounded-lg border p-2 border-neutral-700 bg-white text-neutral-900"},"Начать тест")])])])],512),[[y,u.value=="init"]]),m(e("div",{class:"h-screen flex w-full justify-center",style:P({"background-color":h.neutral})},be,4),[[y,u.value=="prepare"]]),m(e("div",{class:"cursor-none h-screen flex w-full justify-center",style:P({"background-color":h.neutral})},[e("div",xe,[e("div",Se,[(i(!0),_(x,null,j(v,(t,o)=>(i(),B(T(E[t.figure]),{key:o,color:t.color,top:-z.value*w.value*Math.cos(Math.PI/6*(o+.5)),left:z.value*w.value*Math.sin(Math.PI/6*(o+.5)),scale:w.value},null,8,["color","top","left","scale"]))),128)),m(J(ne,{size:O.value*w.value,color:h.cross},null,8,["size","color"]),[[y,D.value]])])])],4),[[y,u.value=="play"]]),m(e("div",{class:"h-screen flex w-full justify-center",style:P({"background-color":h.neutral})},ke,4),[[y,u.value=="rest"]]),m(e("div",Me,[e("div",$e,[e("div",qe,[(i(!0),_(x,null,j(d,t=>(i(),_("div",null,[e("table",je,[e("tr",null,[e("th",Ee,[(i(),B(T(E[t.figure]),{color:t.ground,top:4,left:3,scale:.4},null,8,["color","scale"])),(i(),B(T(E[t.figure]),{color:t.target,top:4,left:9,scale:.4},null,8,["color","scale"]))]),Ce,De]),(i(!0),_(x,null,j(t.tests,(o,n)=>(i(),_("tr",null,[e("td",Le,s(n+1)+" "+s(o.correctly?"✔️":"❌"),1),e("td",Pe,s(o.direction=="r"?"--"+o.position+"->":"<-"+o.position+"--"),1),e("td",Be,s(o.reaction_time),1)]))),256))]),S(" "+s(t.stat.average_left)+" "+s(t.stat.average_right)+" "+s(t.stat.average_full)+" "+s(Math.floor(100*(t.stat.average_right-t.stat.average_left)/(t.stat.average_full-G)))+"% ",1)]))),256)),e("div",null,[(i(!0),_(x,null,j(d,t=>(i(),_("div",null,s(t.figure)+" "+s(t.stat.average_left)+" "+s(t.stat.average_right)+" "+s(t.stat.average_full)+" "+s(Math.floor(100*(t.stat.average_right-t.stat.average_left)/(t.stat.average_full-G)))+"% ",1))),256))])]),e("div",Te,[J(c,{to:"thanks"},{default:re(()=>[ze]),_:1})])])],512),[[y,u.value=="score"]])],64)}}});export{Fe as default};
