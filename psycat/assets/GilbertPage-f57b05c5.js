import{k as x,i as Q,j as T,l as C,m as H,r as O,o as m,c as h,p as _,v,a as e,n as r,F as M,h as S,u as z,d as R,w as U,z as W,J as X,q as I,s as V,t as f,x as Y}from"./index-b179f99a.js";const Z={class:"h-screen justify-center items-center flex flex-col flex-1 m-auto"},$={class:"relative"},ee={class:"h-screen justify-center flex flex-col flex-1"},te={class:"h-screen justify-center items-center flex flex-col flex-1 m-auto"},le={class:"w-[550px]"},oe=W("<p>Вы прошли тренировочный тест! А сейчас начнется настоящее испытание.</p><p>Напомним правила.</p><p>Сейчас на экране появится 12 квадратов.</p><p>Цвет одного отличается от цвета остальных.</p><p>Нужно как можно быстрее определить, в какой части экрана (правой или левой). от центра расположен этот квадрат, <br> нажав клавишу <b>Q</b> (слева) или <b>P</b> (справа)</p><p> При выполнении задания необходимо смотреть на крестик по центру экрана</p>",6),se={class:"text-center"},re={class:"h-screen flex w-full justify-center"},ne=e("div",{class:"h-screen justify-center flex flex-col flex-0"},[e("h1",null," Приготовьтесь... "),e("p",null,"(нажмите любую клавишу)")],-1),ae=[ne],ce={class:"h-screen flex w-full justify-center"},ie={class:"h-screen justify-center flex flex-0 gap-10"},ue=e("h2",{class:"mt-48"}," Итоговый счет ",-1),de={class:"border border-neutral-700"},me=e("tr",null,[e("th",{class:"pr-3 border"}),e("th",{class:"pr-3 border text-center"},"направление"),e("th",{class:"pr-3 border text-center"},"позиция"),e("th",{class:"pr-3 border text-center"},"реакция")],-1),he={class:"pr-3 border"},_e={class:"pr-3 border text-center"},ve={class:"pr-3 border text-center"},fe={class:"pr-3 border text-center"},pe={class:"mt-48 text-center font-bold"},be=e("button",{class:"rounded-lg border p-2 border-neutral-700 bg-white text-neutral-900"}," Далее ",-1),we={__name:"GilbertPage",async setup(ye){let p,E;const F=x(70),t=x(7.28),L=Q("uid"),D=([p,E]=T(()=>X(I(V,"users",L))),p=await p,E(),p).data(),g=12,n={A:"#00ab81",B:"#00aa95",C:"#00aaaa",D:"#0095aa",N:"#b2b2b2",B:"#000000"},q=["#ff3b28","#ff2b6e","#ff00a0","#FF0065","#FF0000","#FD5b00","#0051ff","#0081ff","#00bcff"],c=x("init");function w(l){return Math.floor(Math.random()*l)}const b=C([]);for(let l=0;l<g;l++)b.push({color:n.B});const N=[[0,1],[2,1],[3,4],[5,4],[6,7],[8,7]],k=x(!1);let d=5,y=0,A=6;const P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=C(D.gilbert?D.gilbert:[]);i.length&&(c.value="score"),H(()=>{let l=!0;return i.forEach(o=>{l=l&&o.correctly}),l});let G=l=>{let o;l%d==0?(o=w(2),P.sort(()=>Math.random()-.5)):o=P[l%d-1],o=w(2);let u=w(6),s=!0;u+=6*o;let a=N[Math.floor(l/d)][0],K=N[Math.floor(l/d)][1];return{target_color:a,ground_color:K,position:u,direction:o,correctly:s}},B=()=>{for(let l=0;l<g;l++)b[l].color=n.N;k.value=!1,document.removeEventListener("keyup",B),J()},j=()=>{for(document.removeEventListener("keyup",j),y=0;i.length>0;)i.pop();c.value="prepare",document.addEventListener("keyup",B)},J=()=>{y<d*A?(c.value="play",setTimeout(()=>{k.value=!0,setTimeout(()=>{c.value="play";let l=Date.now(),o=G(y);i.push(o);for(let s=0;s<g;s++)b[s].color=q[s==o.position?o.target_color:o.ground_color];let u=s=>{let a;if(s.code=="KeyP")a=0;else if(s.code=="KeyQ")a=1;else return;document.removeEventListener("keydown",u),o&&(o.reaction_time=Date.now()-l,y+=1,o.correctly=a==o.direction),document.addEventListener("keyup",B)};document.addEventListener("keydown",u)},1e3)},250)):(Y(I(V,"users",L),{gilbert:i}),c.value="score")};return(l,o)=>{const u=O("router-link");return m(),h(M,null,[_(e("div",{class:"h-screen flex w-full justify-center",style:r({"background-color":n.N})},[e("div",Z,[e("div",$,[_(e("div",{class:"text-center absolute",style:r([{color:"#222","line-height":"1"},{top:"-"+t.value/2+"mm",left:"-"+t.value/2+"mm"}])},[e("table",null,[e("tr",null,[e("td",{style:r({"border-bottom":"1px solid "+n.B,"border-right":"1px solid "+n.B})},[e("div",{style:r({width:t.value/2+"mm",height:t.value/2+"mm"})},null,4)],4),e("td",{style:r({"border-bottom":"1px solid "+n.B,"border-left":"1px solid "+n.B})},[e("div",{style:r({width:t.value/2+"mm",height:t.value/2+"mm"})},null,4)],4)]),e("tr",null,[e("td",{style:r({"border-top":"1px solid "+n.B,"border-right":"1px solid "+n.B})},[e("div",{style:r({width:t.value/2+"mm",height:t.value/2+"mm"})},null,4)],4),e("td",{style:r({"border-top":"1px solid "+n.B,"border-left":"1px solid "+n.B})},[e("div",{style:r({width:t.value/2+"mm",height:t.value/2+"mm"})},null,4)],4)])])],4),[[v,k.value]]),(m(!0),h(M,null,S(b,(s,a)=>(m(),h("div",{class:"absolute heart",style:r({width:t.value+"mm",height:t.value+"mm",top:-t.value/2+-F.value*Math.cos(Math.PI/6*(a+.5))+"mm",left:-t.value/2+F.value*Math.sin(Math.PI/6*(a+.5))+"mm"})},[e("div",{class:"before",style:r({"background-color":s.color,width:t.value+"mm",height:1.5*t.value+"mm",left:t.value/2+"mm","border-radius":t.value+"mm "+t.value+"mm 0 0"})},null,4),e("div",{class:"after",style:r({"background-color":s.color,width:t.value+"mm",height:1.5*t.value+"mm",left:-t.value/2+"mm","border-radius":t.value+"mm "+t.value+"mm 0 0"})},null,4)],4))),256))])])],4),[[v,c.value=="play"]]),_(e("div",ee,[e("div",te,[e("div",le,[oe,e("div",se,[e("button",{onClick:o[0]||(o[0]=(...s)=>z(j)&&z(j)(...s)),class:"rounded-lg border p-2 border-neutral-700 bg-white text-neutral-900"},"Начать тест")])])])],512),[[v,c.value=="init"]]),_(e("div",re,ae,512),[[v,c.value=="prepare"]]),_(e("div",ce,[e("div",ie,[ue,e("table",de,[me,(m(!0),h(M,null,S(i,(s,a)=>(m(),h("tr",null,[e("td",he,f(a+1)+" "+f(s.correctly?"✔️":"❌"),1),e("td",_e,f(s.position),1),e("td",ve,f(s.direction?">":"<"),1),e("td",fe,f(s.reaction_time),1)]))),256))]),e("div",pe,[R(u,{to:"thanks"},{default:U(()=>[be]),_:1})])])],512),[[v,c.value=="score"]])],64)}}};export{we as default};
