import{i as B,x as L,h as j,g as m,r as N,o as y,c as w,j as u,y as f,a as o,C as p,u as V,t as g,F,z as P,d as q,w as M,e as D,n as Q,l as R,m as T}from"./index-576821a0.js";const U={class:"h-screen flex w-full justify-center"},$={class:"h-screen justify-center flex flex-col flex-1"},G={class:"mt-3 text-center"},H=o("p",null," В следующем тесте вам будут показывать слова, обозначающие цвета.",-1),I=o("p",null,[D(" Если слово и его цвет совпадают, нажмите стрелку "),o("b",null,"влево")],-1),J=o("p",null,[D(" Если слово и его цвет различаются, нажмите стрелку "),o("b",null,"вправо")],-1),O=o("p",null," Постарайтесь выполнить тест как можно быстрее и без ошибок.",-1),W={class:"h-screen justify-center flex flex-col flex-1"},X={class:"h-screen justify-center flex flex-col flex-0"},Y=o("h1",null," Приготовьтесь... ",-1),Z=o("p",null,"(нажмите любую клавишу)",-1),oo=[Y,Z],eo={class:"h-screen justify-center flex flex-col flex-0"},to=o("h1",null," Итоговый счет ",-1),ro={class:"border border-neutral-700"},co=o("tr",null,[o("th",{class:"pr-3 border"}),o("th",{class:"pr-3 border text-center"},"справа"),o("th",{class:"pr-3 border text-center"},"центр"),o("th",{class:"pr-3 border text-center"},"слева"),o("th",{class:"pr-3 border text-center"},"направление"),o("th",{class:"pr-3 border text-center"},"реакция")],-1),so={class:"pr-3 border"},no={class:"pr-3 border text-center"},lo={class:"pr-3 border text-center"},io={class:"mt-3 text-center font-bold"},_o=o("button",{class:"rounded-lg border p-2 border-neutral-700 bg-white text-neutral-900"}," Далее ",-1),fo={__name:"StroopPage",setup(ao){const z=B("uid"),s=L("init"),r=[{title:"красный",color:"#f5222d"},{title:"зеленый",color:"#52c41a"},{title:"синий",color:"#1890ff"}],k=[{first_color:2,second_color:1,congruents:0,direction:1},{first_color:1,second_color:0,congruents:0,direction:1},{first_color:2,second_color:1,congruents:0,direction:1},{first_color:1,second_color:2,congruents:0,direction:1},{first_color:0,second_color:1,congruents:1,direction:0},{first_color:0,second_color:2,congruents:0,direction:1},{first_color:1,second_color:2,congruents:1,direction:0},{first_color:0,second_color:1,congruents:0,direction:1},{first_color:1,second_color:0,congruents:1,direction:0},{first_color:1,second_color:2,congruents:1,direction:0},{first_color:1,second_color:2,congruents:0,direction:1},{first_color:0,second_color:2,congruents:1,direction:0},{first_color:0,second_color:2,congruents:0,direction:1},{first_color:0,second_color:1,congruents:0,direction:1},{first_color:2,second_color:0,congruents:0,direction:1},{first_color:1,second_color:0,congruents:1,direction:0},{first_color:2,second_color:1,congruents:1,direction:0},{first_color:2,second_color:0,congruents:1,direction:0},{first_color:2,second_color:0,congruents:1,direction:0},{first_color:2,second_color:0,congruents:0,direction:1},{first_color:1,second_color:0,congruents:0,direction:1},{first_color:2,second_color:1,congruents:1,direction:0},{first_color:0,second_color:2,congruents:1,direction:0},{first_color:0,second_color:1,congruents:1,direction:0}];k.sort(()=>Math.random()-.5),j(()=>{let _=0,t=0;return n.slice(1,-1).forEach(l=>{l.direction?t+=l.reaction_time:_+=l.reaction_time}),{left:_,right:t}}),L(0);const c=m({title:"",color:0,vision:!0,colorize:!0}),i=m({color:0,vision:!0,colorize:!0}),d=m({color:0,vision:!0,colorize:!0}),n=m([]);let C=24,h=0,K=j(()=>1e7),x=()=>{document.removeEventListener("keyup",x),S()},E=()=>{for(document.removeEventListener("keyup",E),h=0;n.length>0;)n.pop();s.value="prepare",document.addEventListener("keyup",x)},S=()=>{if(h<C){s.value="play";let _=Date.now(),t=k[h];n.push(t);let l=n.length-1,e=l>=0?n[l]:null;e?(t.congruents?(c.title=r[t.first_color].title,c.color=r[t.first_color].color):(c.title=r[t.second_color].title,c.color=r[t.first_color].color),c.vision=!0,i.color=r[e.direction?e.first_color:e.second_color].color,i.vision=!0,d.color=r[e.direction?e.second_color:e.first_color].color,d.vision=!0):(t.congruents?(c.title=r[t.first_color].title,c.color=r[t.first_color].color):(c.title=r[t.second_color].title,c.color=r[t.first_color].color),c.vision=!0,i.vision=!1,d.vision=!1);let v=a=>{let b;if(a.code=="ArrowLeft"||a.code=="KeyA"||a.code=="KeyQ")b=0;else if(a.code=="ArrowRight"||a.code=="KeyD"||a.code=="KeyP")b=1;else return;if(document.removeEventListener("keydown",v),c.vision=!1,i.vision=!1,d.vision=!1,e){let A=Date.now()-_;e.reaction_time=Date.now()-_,A<K.value&&(h+=1),e.correctly=b==e.direction}document.addEventListener("keyup",x)};document.addEventListener("keydown",v)}else Q(R(T,"users",z),{stroop:n}),s.value="score"};return(_,t)=>{const l=N("router-link");return y(),w("div",U,[u(o("div",{class:"lg:w-40 md:w-24 sm:w-16 w-12",style:p({"background-color":d.color})},null,4),[[f,s.value=="play"&&d.vision&&!1]]),u(o("div",$,[o("div",G,[H,I,J,O,o("button",{onClick:t[0]||(t[0]=e=>V(E)()),class:"rounded-lg border p-2 border-neutral-700 bg-white text-neutral-900"},"Начать тест")])],512),[[f,s.value=="init"]]),u(o("div",W,[o("div",{class:"lg:text-6xl md:text-5xl sm:text-4xl text-3xl text-center font-bold",style:p({color:c.color})},g(c.title.toUpperCase()),5)],512),[[f,s.value=="play"&&c.vision]]),u(o("div",{class:"lg:w-40 md:w-24 sm:w-16 w-12",style:p({"background-color":i.color})},null,4),[[f,s.value=="play"&&i.vision&&!1]]),u(o("div",X,oo,512),[[f,s.value=="prepare"]]),u(o("div",eo,[to,o("table",ro,[co,(y(!0),w(F,null,P(n,(e,v)=>(y(),w("tr",null,[o("td",so,g(v+1)+" "+g(e.correctly?"✔️":"❌"),1),o("td",{class:"pr-3 border",style:p({"background-color":r[e.direction?e.second_color:e.first_color].color})},null,4),o("td",{class:"pr-3 border text-center",style:p({color:r[e.first_color].color})},g(r[e.congruents?e.first_color:e.second_color].title),5),o("td",{class:"pr-3 border",style:p({"background-color":r[e.direction?e.first_color:e.second_color].color})},null,4),o("td",no,g(e.direction?">":"<"),1),o("td",lo,g(e.reaction_time),1)]))),256))]),o("div",io,[q(l,{to:"gilbert"},{default:M(()=>[_o]),_:1})])],512),[[f,s.value=="score"]])])}}};export{fo as default};
