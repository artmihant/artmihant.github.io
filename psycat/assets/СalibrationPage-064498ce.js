import{B as ae,k as p,l as F,r as se,o as u,c as _,p as m,v as y,a as e,n as P,F as x,h as j,y as B,C as T,d as K,t as s,f as w,w as ce}from"./index-31c250ee.js";import{C as l}from"./color-9d40ee1b.js";import{_ as ie,a as ue,b as ge,c as fe,d as de,e as _e,f as pe,g as he,h as ve,i as me,j as ye}from"./SunFigure.vue_vue_type_script_setup_true_lang-75e6650a.js";const be={class:"h-screen justify-center flex flex-col flex-1"},xe=e("p",null,"Сейчас на экране появится 12 квадратов.",-1),we=e("p",null,"Цвет одного отличается от цвета остальных.",-1),Se=e("p",null,[w("Нужно как можно быстрее определить, в какой части экрана (правой или левой). от центра расположен этот квадрат, "),e("br"),w(" нажав клавишу "),e("b",null,"Q"),w(" (слева) или "),e("b",null,"P"),w(" (справа)")],-1),ke=e("p",null," При выполнении задания необходимо смотреть на крестик по центру экрана",-1),qe=e("div",{class:"h-screen justify-center flex flex-col flex-0"},[e("h1",null,"Приготовьтесь..."),e("p",null,"(нажмите любую клавишу)")],-1),Me=[qe],$e={class:"h-screen justify-center items-center flex flex-col flex-1 m-auto"},je={class:"relative"},Ee=e("div",{class:"h-screen justify-center flex flex-col flex-0"},[e("h1",null,"Прекрасно!"),e("p",null,"Закройте на несколько секунд глаза, дайте им отдохнуть."),e("p",null,"когда отдохнете, нажмите любую клавишу для продолжения")],-1),Ce=[Ee],De={class:"h-screen flex w-full"},Le={class:"h-screen flex flex-col"},Pe={class:"flex gap-10"},Be={class:"border border-neutral-700"},Te={class:"pr-3 border relative"},ze=e("th",{class:"pr-3 border text-center"},"направление",-1),Ie=e("th",{class:"pr-3 border text-center"},"реакция",-1),Ne={class:"pr-3 border"},Ve={class:"pr-3 border text-center"},Fe={class:"pr-3 border text-center"},Ke={class:"mt-48 text-center font-bold"},Qe=e("button",{class:"rounded-lg border p-2 border-neutral-700 bg-white text-neutral-900"}," Далее ",-1),Je=ae({__name:"СalibrationPage",setup(Ge){const E={apple:ue,banana:ge,blob:fe,circule:de,heart:_e,hex:pe,leaf:he,lemon:ve,square:me,sun:ye},z=p(70),Q=p(10),S=p(1.3),G=1e3,I=333,h={neutral:"#b2b2b2",cross:"#222222"},k=new l("color(display-p3 0.9244 0.2464 0.4044)"),R=new l("color(display-p3 0.9336 0.268 0.2039)"),A=new l("color(display-p3 0.9329 0.2736 0.166)"),H=new l("color(display-p3 0.9316 0.2799 0.1176)"),J=new l("color(display-p3 0.9298 0.2869 0.0417)"),q=new l("color(display-p3 0.9362 0.7218 0.0842)"),O=new l("color(display-p3 0.8169 0.7855 0.1726)"),U=new l("color(display-p3 0.7975 0.7939 0.1963)"),W=new l("color(display-p3 0.7769 0.8024 0.2213)"),X=new l("color(display-p3 0.7553 0.8107 0.2471)"),M=new l("color(display-p3 0.0772 0.7146 0.7601)"),Y=new l("color(display-p3 0.2086 0.6784 0.8873)"),Z=new l("color(display-p3 0.235 0.6717 0.9013)"),ee=new l("color(display-p3 0.2622 0.6645 0.9147)"),te=new l("color(display-p3 0.2891 0.657 0.9268)"),C=[{ground:k.toString(),target:J.toString(),figure:"square",principle:c,length:13},{ground:k.toString(),target:H.toString(),figure:"square",principle:c,length:13},{ground:k.toString(),target:A.toString(),figure:"square",principle:c,length:13},{ground:k.toString(),target:R.toString(),figure:"square",principle:c,length:13},{ground:q.toString(),target:X.toString(),figure:"square",principle:c,length:13},{ground:q.toString(),target:W.toString(),figure:"square",principle:c,length:13},{ground:q.toString(),target:U.toString(),figure:"square",principle:c,length:13},{ground:q.toString(),target:O.toString(),figure:"square",principle:c,length:13},{ground:M.toString(),target:te.toString(),figure:"square",principle:c,length:13},{ground:M.toString(),target:ee.toString(),figure:"square",principle:c,length:13},{ground:M.toString(),target:Z.toString(),figure:"square",principle:c,length:13},{ground:M.toString(),target:Y.toString(),figure:"square",principle:c,length:13}],v=F([]);for(let r=0;r<12;r++)v.push({color:h.neutral,figure:"square"});const N=[[5,9,7,1,11,8,4,3,6,10,2,0],[8,3,11,1,0,8,9,6,10,2,5,4,7],[5,8,1,0,11,3,6,4,9,2,7,10],[5,7,9,6,10,11,4,2,0,1,3,8],[6,7,0,3,5,10,1,4,11,2,9,8],[10,6,4,9,5,8,1,3,2,7,0,11],[0,10,8,3,9,5,7,1,6,11,4,2],[6,10,7,5,3,4,8,11,0,1,2,9],[5,10,1,6,9,11,0,7,3,4,2,8],[5,9,7,1,11,8,4,3,6,10,2,0],[8,3,11,1,0,8,9,6,10,2,5,4,7],[5,8,1,0,11,3,6,4,9,2,7,10],[5,7,9,6,10,11,4,2,0,1,3,8],[0,8,4,11,5,6,7,2,3,1,9,10],[4,8,9,2,11,0,7,5,1,10,3,6],[4,11,10,2,1,6,0,3,9,8,7,5],[10,6,4,9,5,8,1,3,2,7,0,11],[0,10,8,3,9,5,7,1,6,11,4,2],[6,10,7,5,3,4,8,11,0,1,2,9],[5,10,1,6,9,11,0,7,3,4,2,8]];function re(r){return Math.floor(Math.random()*r)}N.forEach(r=>r.unshift(re(12)));function oe(r){return r<6?"r":"l"}function c(r,a){return N[r][a]}const D=p(!1),g=p("init"),d=F([]),f=p(0),$=p(0);function ne(){g.value="prepare",f.value<C.length&&V()}function V(){d.push({tests:[],figure:"",ground:"",target:"",stat:{average_full:0,average_left:0,average_right:0}}),$.value=0,document.addEventListener("keyup",L)}function le(){f.value+=1,g.value="rest",f.value<C.length?V():(d.forEach(r=>{let a=0,i=0,t=0,n=0;r.tests.forEach((o,b)=>{b&&o.correctly&&o.reaction_time<G&&(o.direction=="r"&&(n+=1,i+=o.reaction_time),o.direction=="l"&&(t+=1,a+=o.reaction_time))}),r.stat.average_full=Math.floor((a+i)/(t+n)),r.stat.average_left=Math.floor(a/t),r.stat.average_right=Math.floor(i/n)}),g.value="score")}function L(){document.removeEventListener("keyup",L);const r=C[f.value];for(let a=0;a<12;a++)v[a].color=h.neutral,v[a].figure="square";if(D.value=!1,$.value<r.length){g.value="play";const a=r.principle(f.value,$.value),i={position:a,direction:oe(a),answer:"",correctly:!1,reaction_time:0};d[f.value].tests.push(i),d[f.value].figure=r.figure,d[f.value].target=r.target,d[f.value].ground=r.ground,setTimeout(()=>{D.value=!0,setTimeout(()=>{let t=Date.now();for(let o=0;o<12;o++)v[o].color=i.position==o?r.target:r.ground,v[o].figure=r.figure;function n(o){const b=o.code=="KeyP"?"r":o.code=="KeyQ"?"l":null;b&&(document.removeEventListener("keydown",n),i.answer=b,i.correctly=b==i.direction,i.reaction_time=Date.now()-t,$.value+=1,document.addEventListener("keyup",L))}document.addEventListener("keydown",n)},1e3)},250)}else le()}return(r,a)=>{const i=se("router-link");return u(),_(x,null,[m(e("div",be,[e("div",{class:"h-screen justify-center items-center flex flex-col flex-1 m-auto"},[e("div",{class:"w-[550px]"},[xe,we,Se,ke,e("div",{class:"text-center"},[e("button",{onClick:ne,class:"rounded-lg border p-2 border-neutral-700 bg-white text-neutral-900"},"Начать тест")])])])],512),[[y,g.value=="init"]]),m(e("div",{class:"h-screen flex w-full justify-center",style:P({"background-color":h.neutral})},Me,4),[[y,g.value=="prepare"]]),m(e("div",{class:"cursor-none h-screen flex w-full justify-center",style:P({"background-color":h.neutral})},[e("div",$e,[e("div",je,[(u(!0),_(x,null,j(v,(t,n)=>(u(),B(T(E[t.figure]),{key:n,color:t.color,top:-z.value*S.value*Math.cos(Math.PI/6*(n+.5)),left:z.value*S.value*Math.sin(Math.PI/6*(n+.5)),scale:S.value},null,8,["color","top","left","scale"]))),128)),m(K(ie,{size:Q.value*S.value,color:h.cross},null,8,["size","color"]),[[y,D.value]])])])],4),[[y,g.value=="play"]]),m(e("div",{class:"h-screen flex w-full justify-center",style:P({"background-color":h.neutral})},Ce,4),[[y,g.value=="rest"]]),m(e("div",De,[e("div",Le,[e("div",Pe,[(u(!0),_(x,null,j(d,t=>(u(),_("div",null,[e("table",Be,[e("tr",null,[e("th",Te,[(u(),B(T(E[t.figure]),{color:t.ground,top:4,left:3,scale:.4},null,8,["color","scale"])),(u(),B(T(E[t.figure]),{color:t.target,top:4,left:9,scale:.4},null,8,["color","scale"]))]),ze,Ie]),(u(!0),_(x,null,j(t.tests,(n,o)=>(u(),_("tr",null,[e("td",Ne,s(o+1)+" "+s(n.correctly?"✔️":"❌"),1),e("td",Ve,s(n.direction=="r"?"--"+n.position+"->":"<-"+n.position+"--"),1),e("td",Fe,s(n.reaction_time),1)]))),256))]),w(" "+s(t.stat.average_left)+" "+s(t.stat.average_right)+" "+s(t.stat.average_full)+" "+s(Math.floor(100*(t.stat.average_right-t.stat.average_left)/(t.stat.average_full-I)))+"% ",1)]))),256)),e("div",null,[(u(!0),_(x,null,j(d,t=>(u(),_("div",null,s(t.figure)+" "+s(t.stat.average_left)+" "+s(t.stat.average_right)+" "+s(t.stat.average_full)+" "+s(Math.floor(100*(t.stat.average_right-t.stat.average_left)/(t.stat.average_full-I)))+"% ",1))),256))])]),e("div",Ke,[K(i,{to:"thanks"},{default:ce(()=>[Qe]),_:1})])])],512),[[y,g.value=="score"]])],64)}}});export{Je as default};
